<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Терминал 2026</title>
    <style>
        :root { 
            --accent: #00ff41; 
            --bg-dark: #052c16;
        }

        body, html { margin: 0; padding: 0; width: 100%; height: 100%; font-family: sans-serif; background: #000; overflow: hidden; color: white; }
        
        /* Живой фон */
        #terminal { 
            width: 100%; height: 100vh; 
            background: radial-gradient(circle at center, #083d1d 0%, #000 100%);
            display: flex; flex-direction: column; position: relative; 
        }

        .screen { 
            display: none; flex-direction: column; flex: 1; 
            padding: 40px; text-align: center; justify-content: center; align-items: center;
            animation: slideUp 0.6s ease-out; 
        }
        .screen.active { display: flex; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* Контейнер для картинки и текста */
        .content-wrap {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        /* Анимированная иконка */
        .smile-icon {
            width: 130px;
            filter: drop-shadow(0 0 15px var(--accent));
            animation: float 3s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.03); }
        }

        /* Твоя надпись */
        .main-label { 
            font-size: 36px; 
            font-weight: 900; 
            text-transform: uppercase; 
            letter-spacing: 2px;
            text-shadow: 0 0 20px rgba(0,255,65,0.4);
        }

        /* Экран успеха */
        .success-icon {
            font-size: 80px; color: var(--accent);
            animation: pop 0.5s cubic-bezier(0.17, 0.89, 0.32, 1.49);
        }
        @keyframes pop { from { transform: scale(0); } to { transform: scale(1); } }

        /* ID в левом нижнем углу */
        .id-footer {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-family: monospace;
            font-size: 14px;
            color: rgba(0, 255, 65, 0.5);
            background: rgba(0,0,0,0.3);
            padding: 5px 10px;
            border-left: 2px solid var(--accent);
        }
    </style>
</head>
<body>
    <div id="terminal">
        <!-- ЭКРАН ОЖИДАНИЯ -->
        <div id="s-wait" class="screen active">
            <div class="content-wrap">
                <!-- Картинка-точка перед словом -->
                <img src="www.sberbank.ru" class="smile-icon">
                <div class="main-label">Как Вам удобно</div>
            </div>
        </div>

        <!-- ЭКРАН УСПЕХА -->
        <div id="s-ok" class="screen">
            <div class="success-icon">✔</div>
            <h1>ОПЛАЧЕНО</h1>
        </div>

        <!-- ID В УГЛУ -->
        <div class="id-footer">TERMINAL_ID: <span id="my-id">...</span></div>
    </div>

    <script>
        const DB = "https://cassa-simulator-4-default-rtdb.firebaseio.com";
        
        // Случайный ID при каждой перезагрузке
        let tid = Math.floor(100000 + Math.random() * 899999); 
        document.getElementById('my-id').innerText = tid;

        async function sync() {
            try {
                const r = await fetch(`${DB}/${tid}.json`); 
                const data = await r.json();
                
                if ((data === "SUCCESS" || (data && data.status === "SUCCESS")) && !isActive('s-ok')) { 
                    show('ok');
                    setTimeout(() => { location.reload(); }, 4000); 
                }
            } catch(e){}
        }

        function show(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('s-' + id).classList.add('active');
        }
        function isActive(id) { return document.getElementById(id).classList.contains('active'); }

        setInterval(sync, 2000);
    </script>
</body>
</html>
