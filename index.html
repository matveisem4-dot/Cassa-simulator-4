   <script>
        const terminalId = Math.floor(100000 + Math.random() * 900000);
        document.getElementById('my-id').innerText = terminalId;
        
        // ВАШ КОРРЕКТНЫЙ FIREBASE URL
        const FIREBASE_URL = "https://cassa-simulator-4-default-rtdb.firebaseio.com";

        // Функция опроса "базы"
        async function checkCommands() {
            try {
                // ИСПРАВЛЕННЫЙ URL ДЛЯ ЧТЕНИЯ КОМАНДЫ
                const response = await fetch(`${FIREBASE_URL}/commands/${terminalId}.json`);
                const data = await response.json();
                
                if (data && data.command === 'PAY') {
                    showPayment(data.amount);
                }
            } catch (e) {}
        }

        setInterval(checkCommands, 2000); // Проверяем команды каждые 2 сек

        function showPayment(amount) {
            document.getElementById('wait-screen').style.display = 'none';
            document.getElementById('payment-screen').style.display = 'block';
            document.getElementById('price-tag').innerText = `К оплате: ${amount} руб`;
        }

        function startPay(method) {
            document.getElementById('payment-screen').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            document.getElementById('status-text').innerText = method === 'SMILE' ? "Смотрите в камеру..." : "Сканируйте QR...";

            setTimeout(() => {
                document.getElementById('status-text').innerText = "Связь с банком...";
                setTimeout(() => {
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('success').style.display = 'block';
                    // ИСПРАВЛЕННЫЙ URL ДЛЯ ОТПРАВКИ СТАТУСА
                    fetch(`${FIREBASE_URL}/status/${terminalId}.json`, {
                        method: 'PUT', body: JSON.stringify("SUCCESS")
                    });
                }, 2000);
            }, 2000);
        }
    </script>
