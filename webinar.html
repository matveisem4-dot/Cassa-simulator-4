<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AURA Connect | Private Cloud</title>
    <style>
        :root { --accent: #00f2fe; --bg: #0a0e17; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); color: #fff; display: flex; align-items: center; justify-content: center; height: 100vh; }
        .glass { background: rgba(255,255,255,0.05); backdrop-filter: blur(15px); padding: 40px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); width: 400px; text-align: center; }
        input { width: 100%; padding: 15px; margin: 10px 0; border-radius: 12px; border: 1px solid #333; background: #000; color: #fff; font-size: 16px; }
        .btn { width: 100%; padding: 15px; background: var(--accent); color: #000; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        #room-view { display: none; width: 100vw; height: 100vh; flex-direction: column; }
        .video-grid { flex: 1; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 10px; padding: 20px; }
        video { width: 100%; height: 100%; background: #000; border-radius: 20px; object-fit: cover; }
    </style>
</head>
<body>

    <div id="login-screen" class="glass">
        <h1 style="color: var(--accent)">AURA</h1>
        <p>Введите данные для подключения</p>
        <input type="text" id="room-id" placeholder="ID Сферы (например: Work)">
        <input type="password" id="room-key" placeholder="Ключ доступа">
        <button class="btn" onclick="connect()">ПОДКЛЮЧИТЬСЯ</button>
        <p id="error" style="color: red; font-size: 12px; margin-top: 10px; display: none;">Ключ доступа неверен!</p>
    </div>

    <div id="room-view">
        <div style="padding: 20px; background: rgba(0,0,0,0.5); display: flex; justify-content: space-between;">
            <span id="active-room-name"></span>
            <button onclick="location.reload()" style="background:red; color:#fff; border:none; padding:5px 15px; border-radius:5px;">Выйти</button>
        </div>
        <div class="video-grid">
            <video id="local-video" autoplay playsinline></video>
        </div>
    </div>

    <script>
        // Твои настройки безопасности
        const ROOMS = {
            "Work": "1234", // Твой пароль
            "Test": "0000"
        };

        async function connect() {
            const id = document.getElementById('room-id').value;
            const key = document.getElementById('room-key').value;
            const err = document.getElementById('error');

            if (ROOMS[id] && ROOMS[id] === key) {
                startStream(id);
            } else {
                err.style.display = 'block';
            }
        }

        async function startStream(name) {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('room-view').style.display = 'flex';
            document.getElementById('active-room-name').innerText = "Сфера: " + name;

            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                document.getElementById('local-video').srcObject = stream;
            } catch (e) {
                alert("Ошибка камеры: " + e);
            }
        }
    </script>
</body>
</html>
