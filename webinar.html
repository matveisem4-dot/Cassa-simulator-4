<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AURA Connect | Webinar</title>
    <style>
        :root { --accent: #00f2fe; --bg: #050a10; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; }
        .glass { background: rgba(255,255,255,0.03); backdrop-filter: blur(20px); padding: 40px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); width: 400px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .tabs { display: flex; margin-bottom: 20px; background: rgba(0,0,0,0.3); border-radius: 10px; padding: 5px; }
        .tab { flex: 1; padding: 10px; cursor: pointer; border-radius: 8px; font-weight: bold; opacity: 0.5; }
        .tab.active { background: var(--accent); color: #000; opacity: 1; }
        input { width: 100%; padding: 15px; margin: 8px 0; border-radius: 12px; border: 1px solid #333; background: #000; color: #fff; }
        .btn { width: 100%; padding: 18px; background: var(--accent); color: #000; border: none; border-radius: 12px; font-weight: 800; cursor: pointer; margin-top: 15px; text-transform: uppercase; }
        #room { display: none; width: 100vw; height: 100vh; flex-direction: column; background: #000; }
        .top-bar { padding: 20px; display: flex; justify-content: space-between; background: rgba(0,0,0,0.8); border-bottom: 1px solid #222; }
        video { width: 100%; height: 80%; object-fit: cover; border-radius: 20px; }
    </style>
</head>
<body>

    <div id="lobby" class="glass">
        <h1 style="color: var(--accent); margin-bottom: 30px;">AURA <span style="font-weight: 300;">Connect</span></h1>
        <div class="tabs">
            <div id="t-join" class="tab active" onclick="switchMode('join')">Войти</div>
            <div id="t-create" class="tab" onclick="switchMode('create')">Создать</div>
        </div>
        <input type="text" id="sphere-id" placeholder="ID Сферы">
        <input type="password" id="sphere-key" placeholder="Ключ доступа">
        <button class="btn" onclick="go()">Запустить</button>
    </div>

    <div id="room">
        <div class="top-bar">
            <span id="room-name">Сфера: ...</span>
            <button onclick="location.reload()" style="background:red; border:none; color:#fff; border-radius: 5px; padding: 5px 15px;">ВЫЙТИ</button>
        </div>
        <video id="v-local" autoplay playsinline></video>
    </div>

    <script>
        let currentMode = 'join';
        function switchMode(m) {
            currentMode = m;
            document.getElementById('t-join').classList.toggle('active', m === 'join');
            document.getElementById('t-create').classList.toggle('active', m === 'create');
        }

        async function go() {
            const id = document.getElementById('sphere-id').value;
            const key = document.getElementById('sphere-key').value;
            if(!id || !key) return alert("Заполни данные!");

            // Эмуляция проверки ключа (в реале тут запрос к БД)
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('room').style.display = 'flex';
            document.getElementById('room-name').innerText = "СФЕРА: " + id;

            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                document.getElementById('v-local').srcObject = stream;
            } catch (e) { alert("Ошибка камеры"); }
        }
    </script>
</body>
</html>
